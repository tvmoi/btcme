<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="T√≠nh to√°n l√£i/l·ªó BTC/USDT tr√™n Binance.com, xem gi√° Bitcoin, ph√≠ giao d·ªãch v√† t·ª∑ gi√° hi·ªán t·∫°i c·ªßa USDT v·ªõi VND.">
  <meta name="keywords" content="T√≠nh l√£i l·ªó BTC/USDT, Binance, gi√° Bitcoin, ph√≠ giao d·ªãch, t·ª∑ gi√° USDT VND">
  <meta name="author" content=":D">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph -->
  <meta property="og:title" content="T√≠nh l·ªó/l√£i BTC/USDT tr√™n Binance.com">
  <meta property="og:description" content="T√≠nh to√°n l√£i/l·ªó khi giao d·ªãch BTC/USDT tr√™n Binance v√† theo d√µi gi√° Bitcoin, ph√≠ giao d·ªãch v√† t·ª∑ gi√° USDT v·ªõi VND.">
  <meta property="og:image" content="/icon.jpg">
  <meta property="og:url" content="/index.html">

  <!-- PWA Meta -->
  <link rel="manifest" href="./manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="ROI Binance">
  <link rel="apple-touch-icon" href="./icon.jpg">

  <title>T√≠nh l·ªó/l√£i BTC/USDT tr√™n Binance.com</title>

  <!-- C√°c li√™n k·∫øt v√† style kh√°c ·ªü ƒë√¢y -->
</head>
<body>
<div class="formbold-main-wrapper">
  <div class="formbold-form-wrapper">
    <form action="https://formbold.com/s/FORM_ID" method="POST">
      <!-- D√≤ng ti√™u ƒë·ªÅ l·ªõn ƒë∆∞·ª£c th√™m v√†o trong form -->
      <h1 class="formbold-form-title">T√≠nh l·ªó/l√£i BTC/USDT tr√™n Binance.com</h1>

      <div class="formbold-mb-5">
        <label for="khoiLuongUSDT" class="formbold-form-label">Kh·ªëi l∆∞·ª£ng USDT</label>
        <input
          type="number"
          name="khoiLuongUSDT"
          id="khoiLuongUSDT"
          placeholder="Nh·∫≠p kh·ªëi l∆∞·ª£ng USDT"
          class="formbold-form-input"
        />
      </div>
      <div class="formbold-mb-5">
        <label for="giaMuaVao" class="formbold-form-label">Gi√° mua v√†o (BTC/USDT)</label>
        <input
          type="number"
          name="giaMuaVao"
          id="giaMuaVao"
          placeholder="Nh·∫≠p gi√° mua v√†o"
          class="formbold-form-input"
        />
      </div>

      <div>
        <button type="button" class="formbold-btn" onclick="tinhLaiLo()">√öm ba la... :))</button>
      </div>

      <div>
        <button type="button" class="formbold-btn" onclick="resetData()" style="background-color: #465C00; margin-top: 10px;">
          Reset d·ªØ li·ªáu
        </button>
      </div>


      <!-- K·∫øt qu·∫£ t√≠nh to√°n l√£i/l·ªó -->
      <div id="ketQua" class="ketQua" style="display: none; margin-top: 20px;"></div>
          
      <!-- C√°c k·∫øt qu·∫£ ch√≠nh s·∫Ω b·ªã ·∫©n khi ch∆∞a c√≥ k·∫øt qu·∫£ -->
      <div id="thongTinGia" class="thongTinGia" style="display: none;">
        <br>
        <p id="giaHienTai">Gi√° hi·ªán t·∫°i BTC/USDT: </p>
        <p id="phiMua">Ph√≠ mua: </p>
        <p id="phiBan">Ph√≠ b√°n: </p>
        <p id="tyGia">T·ª∑ gi√° 1 USDT = </p>
        <p id="loiTyGia" class="error-message" style="display: none;"></p>
      </div>

      <!-- D·ªØ li·ªáu tham kh·∫£o ngo√†i khung -->
      <div class="infoRefer">
        <p>* BTC/USDT theo th·ªùi gian th·ª±c ƒë∆∞·ª£c l·∫•y t·ª´ s√†n Binance.</p>
        <p>* Ph√≠ mua/b√°n ƒë∆∞·ª£c t√≠nh theo t·ª∑ l·ªá m·∫∑c ƒë·ªãnh 0.1% cho m·ªói giao d·ªãch.</p>
        <p>* T·ª∑ gi√° USDT/VND tham kh·∫£o t·ª´ CoinGecko.</p>
      </div>
    </form>
  </div>
</div>

<style>
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: "Inter", Arial, Helvetica, sans-serif;
    background-color: #333;
    color: white;
  }
  .formbold-mb-5 {
    margin-bottom: 20px;
  }
  .formbold-main-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .formbold-form-wrapper {
    margin: 0 auto;
    max-width: 550px;
    width: 100%;
    background: #222;
    border-radius: 10px;
    padding: 30px;
  }

  .formbold-form-title {
    font-size: 24px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 30px;
    color: #fff;
  }

  .formbold-form-label {
    display: block;
    font-weight: 500;
    font-size: 16px;
    color: #bbb;
    margin-bottom: 12px;
  }

  .formbold-form-input {
    width: 100%;
    padding: 12px 24px;
    border-radius: 6px;
    border: 1px solid #444;
    background: #333;
    font-weight: 500;
    font-size: 16px;
    color: #ddd;
    outline: none;
    resize: none;
  }
  .formbold-form-input:focus {
    border-color: #6a64f1;
    box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
  }

  .formbold-btn {
    text-align: center;
    font-size: 16px;
    border-radius: 6px;
    padding: 14px 32px;
    border: none;
    font-weight: 600;
    background-color: #007bff;
    color: white;
    width: 100%;
    cursor: pointer;
  }
  .formbold-btn:hover {
    box-shadow: 0px 3px 8px rgba(0, 0, 0, 0.05);
  }

  .ketQua {
    background: #444;
    padding: 20px;
    border-radius: 10px;
    color: #ddd;
  }

  .result {
    font-size: 18px;
    font-weight: bold;
  }

  .percent, .vnd {
    margin-top: 10px;
  }

  .thongTinGia {
    font-size: 14px;
    color: #bbb;
    margin-top: 10px;
  }

  .result-lai {
    color: #28a745;
  }

  .result-lo {
    color: #dc3545;
  }

  .formbold--mx-3 {
    margin-left: -12px;
    margin-right: -12px;
  }
  .formbold-px-3 {
    padding-left: 12px;
    padding-right: 12px;
  }
  .flex {
    display: flex;
  }
  .flex-wrap {
    flex-wrap: wrap;
  }
  .w-full {
    width: 100%;
  }
  @media (min-width: 540px) {
    .sm\:w-half {
      width: 50%;
    }
  }

  .infoRefer {
    font-size: 12px;
    color: #bbb;
    margin-top: 20px;
  }
</style>

<script>

  // H√†m l∆∞u d·ªØ li·ªáu v√†o LocalStorage khi nh·∫≠p
  function saveInputData() {
    const khoiLuongUSDT = document.getElementById('khoiLuongUSDT').value;
    const giaMuaVao = document.getElementById('giaMuaVao').value;
    
    const inputData = { khoiLuongUSDT, giaMuaVao };
    localStorage.setItem('btcCalculatorData', JSON.stringify(inputData));
  }

  // H√†m t·∫£i d·ªØ li·ªáu ƒë√£ l∆∞u khi trang load v√† t√≠nh to√°n l·∫°i k·∫øt qu·∫£
  function loadSavedData() {
    const savedData = localStorage.getItem('btcCalculatorData');
    if (savedData) {
      const { khoiLuongUSDT, giaMuaVao } = JSON.parse(savedData);
      document.getElementById('khoiLuongUSDT').value = khoiLuongUSDT;
      document.getElementById('giaMuaVao').value = giaMuaVao;

      // N·∫øu c√≥ d·ªØ li·ªáu h·ª£p l·ªá, t·ª± ƒë·ªông t√≠nh to√°n l·∫°i khi trang t·∫£i
      if (khoiLuongUSDT && giaMuaVao) {
        tinhLaiLo();
      }
    }
  }

  // H√†m reset d·ªØ li·ªáu
  function resetData() {
    localStorage.removeItem('btcCalculatorData');
    document.getElementById('khoiLuongUSDT').value = '';
    document.getElementById('giaMuaVao').value = '';
    document.getElementById('ketQua').style.display = 'none';
    document.getElementById('thongTinGia').style.display = 'none';
    alert('D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c x√≥a!');
  }

  // H√†m c·∫≠p nh·∫≠t gi√° BTC/USDT m·ªói 15 gi√¢y b·∫±ng AJAX
  function capNhatGiaBTC() {
    fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT')
      .then(response => response.json())
      .then(data => {
        var giaHienTai = parseFloat(data.price);

        // C·∫≠p nh·∫≠t gi√° hi·ªÉn th·ªã tr√™n giao di·ªán
        document.getElementById('giaHienTai').innerHTML = 'Gi√° hi·ªán t·∫°i 1 BTC = ' + giaHienTai.toFixed(2) + ' USDT';

        // N·∫øu c√≥ d·ªØ li·ªáu ƒë·∫ßu v√†o, t√≠nh to√°n l·∫°i l√£i/l·ªó
        const savedData = localStorage.getItem('btcCalculatorData');
        if (savedData) {
          const { khoiLuongUSDT, giaMuaVao } = JSON.parse(savedData);
          if (khoiLuongUSDT && giaMuaVao) {
            tinhLaiLoHienThi(parseFloat(giaMuaVao), giaHienTai, parseFloat(khoiLuongUSDT), 0.001);
          }
        }
      })
      .catch(error => {
        console.error('L·ªói khi l·∫•y d·ªØ li·ªáu BTC/USDT:', error);
      });
  }

  // G√°n s·ª± ki·ªán l∆∞u d·ªØ li·ªáu khi nh·∫≠p
  document.getElementById('khoiLuongUSDT').addEventListener('input', saveInputData);
  document.getElementById('giaMuaVao').addEventListener('input', saveInputData);

  // Khi trang t·∫£i, t·ª± ƒë·ªông kh√¥i ph·ª•c d·ªØ li·ªáu v√† t√≠nh to√°n l·∫°i
  window.onload = function () {
    loadSavedData();
    capNhatGiaBTC(); // G·ªçi ngay khi t·∫£i trang ƒë·ªÉ c√≥ d·ªØ li·ªáu m·ªõi nh·∫•t
  };

  // C·∫≠p nh·∫≠t gi√° BTC/USDT m·ªói 15 gi√¢y m√† kh√¥ng c·∫ßn reload trang
  setInterval(capNhatGiaBTC, 15000);

  // H√†m t√≠nh l√£i ho·∫∑c l·ªó v·ªõi kh·ªëi l∆∞·ª£ng USDT v√† gi√° mua v√†o
  function tinhLaiLo() {
    var khoiLuongUSDT = parseFloat(document.getElementById('khoiLuongUSDT').value);
    var giaMuaVao = parseFloat(document.getElementById('giaMuaVao').value);
    var tiLePhi = 0.001; // T·ª∑ l·ªá ph√≠ giao d·ªãch 0.1% (0.001)

    if (isNaN(khoiLuongUSDT) || khoiLuongUSDT <= 0 || isNaN(giaMuaVao) || giaMuaVao <= 0) {
      alert('Vui l√≤ng nh·∫≠p gi√° tr·ªã h·ª£p l·ªá cho kh·ªëi l∆∞·ª£ng USDT v√† gi√° mua v√†o.');
      return;
    }

    fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT')
      .then(response => response.json())
      .then(data => {
        var giaHienTai = parseFloat(data.price);
        tinhLaiLoHienThi(giaMuaVao, giaHienTai, khoiLuongUSDT, tiLePhi);
      })
      .catch(error => {
        console.error('L·ªói khi l·∫•y d·ªØ li·ªáu BTC/USDT:', error);
        alert('L·ªói khi l·∫•y gi√° t·ª´ API');
      });
  }

  // L·∫•y t·ª∑ gi√° USDT/VND t·ª´ LocalStorage, n·∫øu ch∆∞a c√≥ th√¨ m·∫∑c ƒë·ªãnh l√† 25000
  var tiGiaUSDTtoVND = localStorage.getItem('tiGiaUSDTtoVND') ? parseFloat(localStorage.getItem('tiGiaUSDTtoVND')) : 25000;

  function tinhLaiLoHienThi(giaMuaVao, giaHienTai, khoiLuongUSDT, tiLePhi) {
      var soBTC = khoiLuongUSDT / giaMuaVao;
      var giaTriHienTai = soBTC * giaHienTai;
      var phiMua = khoiLuongUSDT * tiLePhi;
      var phiBan = giaTriHienTai * tiLePhi;
      var laiLo = giaTriHienTai - khoiLuongUSDT - phiMua - phiBan;
      var tiLe = (laiLo / khoiLuongUSDT) * 100;

      // Hi·ªÉn th·ªã k·∫øt qu·∫£ v·ªõi t·ª∑ gi√° hi·ªán t·∫°i t·ª´ localStorage
      hienThiKetQua(laiLo, tiLe, giaHienTai, phiMua, phiBan, laiLo * tiGiaUSDTtoVND, tiGiaUSDTtoVND);

      // Th·ª≠ c·∫≠p nh·∫≠t t·ª∑ gi√° t·ª´ API CoinGecko
      fetch('https://api.coingecko.com/api/v3/simple/price?ids=tether&vs_currencies=vnd')
        .then(response => response.json())
        .then(data => {
          tiGiaUSDTtoVND = data.tether.vnd; // C·∫≠p nh·∫≠t t·ª∑ gi√° m·ªõi
          localStorage.setItem('tiGiaUSDTtoVND', tiGiaUSDTtoVND); // L∆∞u v√†o LocalStorage
          var laiLoVND = laiLo * tiGiaUSDTtoVND;

          // C·∫≠p nh·∫≠t l·∫°i t·ª∑ gi√° n·∫øu l·∫•y ƒë∆∞·ª£c d·ªØ li·ªáu
          hienThiKetQua(laiLo, tiLe, giaHienTai, phiMua, phiBan, laiLoVND, tiGiaUSDTtoVND);
          document.getElementById('loiTyGia').style.display = 'none'; // ·∫®n th√¥ng b√°o l·ªói
        })
        .catch(error => {
          console.error('L·ªói khi l·∫•y t·ª∑ gi√° t·ª´ API CoinGecko:', error);
          
          // Hi·ªÉn th·ªã c·∫£nh b√°o l·ªói nh∆∞ng kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn ch·ª©c nƒÉng kh√°c
          document.getElementById('loiTyGia').innerText = 'üòµ‚Äçüí´ Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t t·ª∑ gi√° USDT/VND!';
          document.getElementById('loiTyGia').style.display = 'block';
        });
  }


  function hienThiKetQua(laiLo, tiLe, giaHienTai, phiMua, phiBan, laiLoVND, tiGiaUSDTtoVND) {
    var ketQua = laiLo >= 0 ? 'L√£i: ' : 'L·ªó: ';
    var ketQuaTien = ketQua + laiLo.toFixed(2) + " USDT";
    var ketQuaTiLe = 'ROI: ' + tiLe.toFixed(2) + '%';
    var ketQuaVND = laiLoVND >= 0 ? 'Quy ƒë·ªïi: ' + laiLoVND.toLocaleString('vi-VN') + " VND" :
                                      'Quy ƒë·ªïi: ' + laiLoVND.toLocaleString('vi-VN') + " VND";

    // Hi·ªÉn th·ªã k·∫øt qu·∫£ t√≠nh to√°n
    document.getElementById('ketQua').style.display = 'block';
    document.getElementById('ketQua').innerHTML = `
      <div class="result ${laiLo >= 0 ? 'result-lai' : 'result-lo'}">${ketQuaTien}</div>
      <div class="percent">${ketQuaTiLe}</div>
      <div class="vnd">${ketQuaVND}</div>
    `;
    
    // Hi·ªÉn th·ªã th√¥ng tin gi√° hi·ªán t·∫°i, ph√≠ mua/b√°n, t·ª∑ gi√°
    document.getElementById('thongTinGia').style.display = 'block';
    document.getElementById('giaHienTai').innerHTML = 'Gi√° hi·ªán t·∫°i 1 BTC = ' + giaHienTai.toFixed(2) + ' USDT';
    document.getElementById('phiMua').innerHTML = 'Ph√≠ mua: ' + phiMua.toFixed(2) + ' USDT';
    document.getElementById('phiBan').innerHTML = 'Ph√≠ b√°n: ' + phiBan.toFixed(2) + ' USDT';
    document.getElementById('tyGia').innerHTML = 'T·ª∑ gi√° 1 USDT = ' + tiGiaUSDTtoVND.toLocaleString('vi-VN') + ' VND';
  }
    
</script>

</body>
</html>
